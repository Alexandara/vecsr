% Current State
current_time(1).
type(character1, character).
characters(character1).
type(kitchen207, kitchen).
rooms(kitchen207).
type(floor208, floor).
surfaces(floor208).
floor(floor208).
type(floor209, floor).
surfaces(floor209).
floor(floor209).
type(floor210, floor).
surfaces(floor210).
floor(floor210).
type(floor211, floor).
surfaces(floor211).
floor(floor211).
type(floor212, floor).
surfaces(floor212).
floor(floor212).
type(floor213, floor).
surfaces(floor213).
floor(floor213).
type(wall214, wall).
walls(wall214).
type(wall215, wall).
walls(wall215).
type(wall216, wall).
walls(wall216).
type(wall217, wall).
walls(wall217).
type(wall218, wall).
walls(wall218).
type(wall219, wall).
walls(wall219).
type(wall220, wall).
walls(wall220).
type(ceiling221, ceiling).
ceiling(ceiling221).
type(ceiling222, ceiling).
ceiling(ceiling222).
type(ceiling223, ceiling).
ceiling(ceiling223).
type(ceiling224, ceiling).
ceiling(ceiling224).
type(ceiling225, ceiling).
ceiling(ceiling225).
type(ceiling226, ceiling).
ceiling(ceiling226).
type(door227, door).
open(door227).
can_open(door227).
doors(door227).
type(ceilinglamp228, ceilinglamp).
lamps(ceilinglamp228).
type(ceilinglamp229, ceilinglamp).
lamps(ceilinglamp229).
type(tvstand230, tvstand).
surfaces(tvstand230).
movable(tvstand230).
furniture(tvstand230).
type(kitchentable231, kitchentable).
surfaces(kitchentable231).
movable(kitchentable231).
furniture(kitchentable231).
type(bench232, bench).
surfaces(bench232).
sittable(bench232).
lieable(bench232).
movable(bench232).
furniture(bench232).
type(bench233, bench).
surfaces(bench233).
sittable(bench233).
lieable(bench233).
movable(bench233).
furniture(bench233).
type(kitchencabinet234, kitchencabinet).
closed(kitchencabinet234).
surfaces(kitchencabinet234).
can_open(kitchencabinet234).
containers(kitchencabinet234).
furniture(kitchencabinet234).
type(kitchencabinet235, kitchencabinet).
closed(kitchencabinet235).
surfaces(kitchencabinet235).
can_open(kitchencabinet235).
containers(kitchencabinet235).
furniture(kitchencabinet235).
type(kitchencabinet236, kitchencabinet).
closed(kitchencabinet236).
surfaces(kitchencabinet236).
can_open(kitchencabinet236).
containers(kitchencabinet236).
furniture(kitchencabinet236).
type(kitchencabinet237, kitchencabinet).
closed(kitchencabinet237).
surfaces(kitchencabinet237).
can_open(kitchencabinet237).
containers(kitchencabinet237).
furniture(kitchencabinet237).
type(kitchencounter238, kitchencounter).
closed(kitchencounter238).
surfaces(kitchencounter238).
furniture(kitchencounter238).
type(kitchencounterdrawer239, kitchencounterdrawer).
furniture(kitchencounterdrawer239).
type(kitchencounterdrawer240, kitchencounterdrawer).
furniture(kitchencounterdrawer240).
type(kitchencounterdrawer241, kitchencounterdrawer).
furniture(kitchencounterdrawer241).
type(kitchencounterdrawer242, kitchencounterdrawer).
furniture(kitchencounterdrawer242).
type(kitchencounterdrawer243, kitchencounterdrawer).
furniture(kitchencounterdrawer243).
type(kitchencounterdrawer244, kitchencounterdrawer).
furniture(kitchencounterdrawer244).
type(kitchencounterdrawer245, kitchencounterdrawer).
furniture(kitchencounterdrawer245).
type(kitchencounterdrawer246, kitchencounterdrawer).
furniture(kitchencounterdrawer246).
type(sink247, sink).
recipient(sink247).
containers(sink247).
furniture(sink247).
type(sink248, sink).
recipient(sink248).
containers(sink248).
furniture(sink248).
type(faucet249, faucet).
off(faucet249).
has_switch(faucet249).
furniture(faucet249).
type(bookshelf250, bookshelf).
surfaces(bookshelf250).
containers(bookshelf250).
furniture(bookshelf250).
type(wallshelf251, wallshelf).
furniture(wallshelf251).
type(wallshelf252, wallshelf).
furniture(wallshelf252).
type(rug253, rug).
surfaces(rug253).
grabbable(rug253).
sittable(rug253).
lieable(rug253).
movable(rug253).
decor(rug253).
type(rug254, rug).
surfaces(rug254).
grabbable(rug254).
sittable(rug254).
lieable(rug254).
movable(rug254).
decor(rug254).
type(wallpictureframe255, wallpictureframe).
grabbable(wallpictureframe255).
hangable(wallpictureframe255).
has_paper(wallpictureframe255).
movable(wallpictureframe255).
decor(wallpictureframe255).
type(wallpictureframe256, wallpictureframe).
grabbable(wallpictureframe256).
hangable(wallpictureframe256).
has_paper(wallpictureframe256).
movable(wallpictureframe256).
decor(wallpictureframe256).
type(wallpictureframe257, wallpictureframe).
grabbable(wallpictureframe257).
hangable(wallpictureframe257).
has_paper(wallpictureframe257).
movable(wallpictureframe257).
decor(wallpictureframe257).
type(wallpictureframe258, wallpictureframe).
grabbable(wallpictureframe258).
hangable(wallpictureframe258).
has_paper(wallpictureframe258).
movable(wallpictureframe258).
decor(wallpictureframe258).
type(wallpictureframe259, wallpictureframe).
grabbable(wallpictureframe259).
hangable(wallpictureframe259).
has_paper(wallpictureframe259).
movable(wallpictureframe259).
decor(wallpictureframe259).
type(wallpictureframe260, wallpictureframe).
grabbable(wallpictureframe260).
hangable(wallpictureframe260).
has_paper(wallpictureframe260).
movable(wallpictureframe260).
decor(wallpictureframe260).
type(orchid261, orchid).
decor(orchid261).
type(lightswitch262, lightswitch).
on(lightswitch262).
has_switch(lightswitch262).
has_plug(lightswitch262).
electronics(lightswitch262).
type(powersocket263, powersocket).
electronics(powersocket263).
type(wallphone264, wallphone).
off(wallphone264).
grabbable(wallphone264).
has_switch(wallphone264).
has_plug(wallphone264).
movable(wallphone264).
electronics(wallphone264).
type(tv265, tv).
off(tv265).
has_switch(tv265).
lookable(tv265).
has_plug(tv265).
electronics(tv265).
type(clock266, clock).
off(clock266).
grabbable(clock266).
has_switch(clock266).
lookable(clock266).
has_plug(clock266).
movable(clock266).
electronics(clock266).
type(washingsponge267, washingsponge).
grabbable(washingsponge267).
movable(washingsponge267).
props(washingsponge267).
type(dishwashingliquid268, dishwashingliquid).
grabbable(dishwashingliquid268).
pourable(dishwashingliquid268).
movable(dishwashingliquid268).
cream(dishwashingliquid268).
props(dishwashingliquid268).
type(book269, book).
closed(book269).
grabbable(book269).
cuttable(book269).
can_open(book269).
readable(book269).
has_paper(book269).
movable(book269).
props(book269).
type(fryingpan270, fryingpan).
surfaces(fryingpan270).
grabbable(fryingpan270).
recipient(fryingpan270).
containers(fryingpan270).
movable(fryingpan270).
props(fryingpan270).
type(waterglass271, waterglass).
grabbable(waterglass271).
recipient(waterglass271).
pourable(waterglass271).
movable(waterglass271).
props(waterglass271).
type(cutleryknife272, cutleryknife).
grabbable(cutleryknife272).
movable(cutleryknife272).
props(cutleryknife272).
type(cutleryfork273, cutleryfork).
grabbable(cutleryfork273).
movable(cutleryfork273).
props(cutleryfork273).
type(plate274, plate).
surfaces(plate274).
grabbable(plate274).
recipient(plate274).
movable(plate274).
props(plate274).
type(waterglass275, waterglass).
grabbable(waterglass275).
recipient(waterglass275).
pourable(waterglass275).
movable(waterglass275).
props(waterglass275).
type(cutleryknife276, cutleryknife).
grabbable(cutleryknife276).
movable(cutleryknife276).
props(cutleryknife276).
type(cutleryfork277, cutleryfork).
grabbable(cutleryfork277).
movable(cutleryfork277).
props(cutleryfork277).
type(plate278, plate).
surfaces(plate278).
grabbable(plate278).
recipient(plate278).
movable(plate278).
props(plate278).
type(plate279, plate).
surfaces(plate279).
grabbable(plate279).
recipient(plate279).
movable(plate279).
props(plate279).
type(cutleryfork280, cutleryfork).
grabbable(cutleryfork280).
movable(cutleryfork280).
props(cutleryfork280).
type(cutleryknife281, cutleryknife).
grabbable(cutleryknife281).
movable(cutleryknife281).
props(cutleryknife281).
type(waterglass282, waterglass).
grabbable(waterglass282).
recipient(waterglass282).
pourable(waterglass282).
movable(waterglass282).
props(waterglass282).
type(waterglass283, waterglass).
grabbable(waterglass283).
recipient(waterglass283).
pourable(waterglass283).
movable(waterglass283).
props(waterglass283).
type(cutleryknife284, cutleryknife).
grabbable(cutleryknife284).
movable(cutleryknife284).
props(cutleryknife284).
type(cutleryfork285, cutleryfork).
grabbable(cutleryfork285).
movable(cutleryfork285).
props(cutleryfork285).
type(plate286, plate).
surfaces(plate286).
grabbable(plate286).
recipient(plate286).
movable(plate286).
props(plate286).
type(clothespile287, clothespile).
closed(clothespile287).
grabbable(clothespile287).
can_open(clothespile287).
containers(clothespile287).
movable(clothespile287).
props(clothespile287).
type(box288, box).
closed(box288).
grabbable(box288).
recipient(box288).
can_open(box288).
containers(box288).
cover_object(box288).
movable(box288).
props(box288).
type(dishbowl289, dishbowl).
grabbable(dishbowl289).
recipient(dishbowl289).
movable(dishbowl289).
props(dishbowl289).
type(book290, book).
closed(book290).
grabbable(book290).
cuttable(book290).
can_open(book290).
readable(book290).
has_paper(book290).
movable(book290).
props(book290).
type(book291, book).
closed(book291).
grabbable(book291).
cuttable(book291).
can_open(book291).
readable(book291).
has_paper(book291).
movable(book291).
props(book291).
type(book292, book).
closed(book292).
grabbable(book292).
cuttable(book292).
can_open(book292).
readable(book292).
has_paper(book292).
movable(book292).
props(book292).
type(book293, book).
closed(book293).
grabbable(book293).
cuttable(book293).
can_open(book293).
readable(book293).
has_paper(book293).
movable(book293).
props(book293).
type(book294, book).
closed(book294).
grabbable(book294).
cuttable(book294).
can_open(book294).
readable(book294).
has_paper(book294).
movable(book294).
props(book294).
type(condimentbottle295, condimentbottle).
grabbable(condimentbottle295).
pourable(condimentbottle295).
movable(condimentbottle295).
cream(condimentbottle295).
props(condimentbottle295).
type(condimentbottle296, condimentbottle).
grabbable(condimentbottle296).
pourable(condimentbottle296).
movable(condimentbottle296).
cream(condimentbottle296).
props(condimentbottle296).
type(condimentshaker297, condimentshaker).
grabbable(condimentshaker297).
eatable(condimentshaker297).
pourable(condimentshaker297).
movable(condimentshaker297).
props(condimentshaker297).
type(condimentshaker298, condimentshaker).
grabbable(condimentshaker298).
eatable(condimentshaker298).
pourable(condimentshaker298).
movable(condimentshaker298).
props(condimentshaker298).
type(wineglass299, wineglass).
grabbable(wineglass299).
recipient(wineglass299).
pourable(wineglass299).
movable(wineglass299).
props(wineglass299).
type(wineglass300, wineglass).
grabbable(wineglass300).
recipient(wineglass300).
pourable(wineglass300).
movable(wineglass300).
props(wineglass300).
type(box301, box).
closed(box301).
grabbable(box301).
recipient(box301).
can_open(box301).
containers(box301).
cover_object(box301).
movable(box301).
props(box301).
type(photoframe302, photoframe).
props(photoframe302).
type(paper303, paper).
grabbable(paper303).
readable(paper303).
has_paper(paper303).
movable(paper303).
props(paper303).
type(paper304, paper).
grabbable(paper304).
readable(paper304).
has_paper(paper304).
movable(paper304).
props(paper304).
type(stovefan305, stovefan).
appliances(stovefan305).
type(fridge306, fridge).
closed(fridge306).
can_open(fridge306).
has_switch(fridge306).
containers(fridge306).
has_plug(fridge306).
appliances(fridge306).
type(coffeemaker307, coffeemaker).
off(coffeemaker307).
recipient(coffeemaker307).
can_open(coffeemaker307).
has_switch(coffeemaker307).
containers(coffeemaker307).
has_plug(coffeemaker307).
movable(coffeemaker307).
appliances(coffeemaker307).
type(coffeepot308, coffeepot).
closed(coffeepot308).
grabbable(coffeepot308).
recipient(coffeepot308).
can_open(coffeepot308).
movable(coffeepot308).
appliances(coffeepot308).
type(toaster309, toaster).
off(toaster309).
has_switch(toaster309).
containers(toaster309).
has_plug(toaster309).
movable(toaster309).
appliances(toaster309).
type(breadslice310, breadslice).
grabbable(breadslice310).
eatable(breadslice310).
cuttable(breadslice310).
movable(breadslice310).
appliances(breadslice310).
type(breadslice311, breadslice).
grabbable(breadslice311).
eatable(breadslice311).
cuttable(breadslice311).
movable(breadslice311).
appliances(breadslice311).
type(stove312, stove).
off(stove312).
closed(stove312).
surfaces(stove312).
can_open(stove312).
has_switch(stove312).
containers(stove312).
appliances(stove312).
type(oventray313, oventray).
surfaces(oventray313).
grabbable(oventray313).
movable(oventray313).
appliances(oventray313).
type(microwave314, microwave).
closed(microwave314).
off(microwave314).
can_open(microwave314).
has_switch(microwave314).
containers(microwave314).
has_plug(microwave314).
appliances(microwave314).
type(plate315, plate).
surfaces(plate315).
grabbable(plate315).
recipient(plate315).
movable(plate315).
appliances(plate315).
type(bananas316, bananas).
grabbable(bananas316).
movable(bananas316).
food(bananas316).
type(bananas317, bananas).
grabbable(bananas317).
movable(bananas317).
food(bananas317).
type(dishbowl318, dishbowl).
grabbable(dishbowl318).
recipient(dishbowl318).
movable(dishbowl318).
food(dishbowl318).
type(whippedcream319, whippedcream).
grabbable(whippedcream319).
eatable(whippedcream319).
cuttable(whippedcream319).
movable(whippedcream319).
food(whippedcream319).
type(pie320, pie).
grabbable(pie320).
eatable(pie320).
cuttable(pie320).
movable(pie320).
food(pie320).
type(bellpepper321, bellpepper).
grabbable(bellpepper321).
movable(bellpepper321).
food(bellpepper321).
type(bellpepper322, bellpepper).
grabbable(bellpepper322).
movable(bellpepper322).
food(bellpepper322).
type(bellpepper323, bellpepper).
grabbable(bellpepper323).
movable(bellpepper323).
food(bellpepper323).
type(bellpepper324, bellpepper).
grabbable(bellpepper324).
movable(bellpepper324).
food(bellpepper324).
type(bellpepper325, bellpepper).
grabbable(bellpepper325).
movable(bellpepper325).
food(bellpepper325).
type(bellpepper326, bellpepper).
grabbable(bellpepper326).
movable(bellpepper326).
food(bellpepper326).
type(dishbowl327, dishbowl).
grabbable(dishbowl327).
recipient(dishbowl327).
movable(dishbowl327).
food(dishbowl327).
type(salmon328, salmon).
grabbable(salmon328).
movable(salmon328).
food(salmon328).
type(chips329, chips).
grabbable(chips329).
movable(chips329).
food(chips329).
type(chips330, chips).
grabbable(chips330).
movable(chips330).
food(chips330).
type(candybar331, candybar).
grabbable(candybar331).
eatable(candybar331).
movable(candybar331).
food(candybar331).
type(chocolatesyrup332, chocolatesyrup).
grabbable(chocolatesyrup332).
eatable(chocolatesyrup332).
cuttable(chocolatesyrup332).
movable(chocolatesyrup332).
food(chocolatesyrup332).
type(crackers333, crackers).
grabbable(crackers333).
movable(crackers333).
food(crackers333).
type(creamybuns334, creamybuns).
grabbable(creamybuns334).
eatable(creamybuns334).
cuttable(creamybuns334).
movable(creamybuns334).
food(creamybuns334).
type(cereal335, cereal).
grabbable(cereal335).
eatable(cereal335).
movable(cereal335).
food(cereal335).
type(bedroom74, bedroom).
rooms(bedroom74).
type(floor75, floor).
surfaces(floor75).
floor(floor75).
type(floor76, floor).
surfaces(floor76).
floor(floor76).
type(floor77, floor).
surfaces(floor77).
floor(floor77).
type(floor78, floor).
surfaces(floor78).
floor(floor78).
type(floor79, floor).
surfaces(floor79).
floor(floor79).
type(floor80, floor).
surfaces(floor80).
floor(floor80).
type(floor81, floor).
surfaces(floor81).
floor(floor81).
type(floor82, floor).
surfaces(floor82).
floor(floor82).
type(floor83, floor).
surfaces(floor83).
floor(floor83).
type(wall84, wall).
walls(wall84).
type(wall85, wall).
walls(wall85).
type(wall86, wall).
walls(wall86).
type(wall87, wall).
walls(wall87).
type(wall88, wall).
walls(wall88).
type(wall89, wall).
walls(wall89).
type(wall90, wall).
walls(wall90).
type(wall91, wall).
walls(wall91).
type(window92, window).
closed(window92).
can_open(window92).
windows(window92).
type(ceiling93, ceiling).
ceiling(ceiling93).
type(ceiling94, ceiling).
ceiling(ceiling94).
type(ceiling95, ceiling).
ceiling(ceiling95).
type(ceiling96, ceiling).
ceiling(ceiling96).
type(ceiling97, ceiling).
ceiling(ceiling97).
type(ceiling98, ceiling).
ceiling(ceiling98).
type(ceiling99, ceiling).
ceiling(ceiling99).
type(ceiling100, ceiling).
ceiling(ceiling100).
type(ceiling101, ceiling).
ceiling(ceiling101).
type(ceilinglamp102, ceilinglamp).
lamps(ceilinglamp102).
type(tablelamp103, tablelamp).
on(tablelamp103).
has_switch(tablelamp103).
has_plug(tablelamp103).
lamps(tablelamp103).
type(tablelamp104, tablelamp).
on(tablelamp104).
has_switch(tablelamp104).
has_plug(tablelamp104).
lamps(tablelamp104).
type(garbagecan105, garbagecan).
closed(garbagecan105).
can_open(garbagecan105).
containers(garbagecan105).
movable(garbagecan105).
furniture(garbagecan105).
type(nightstand106, nightstand).
closed(nightstand106).
surfaces(nightstand106).
can_open(nightstand106).
containers(nightstand106).
furniture(nightstand106).
type(bookshelf107, bookshelf).
surfaces(bookshelf107).
containers(bookshelf107).
furniture(bookshelf107).
type(nightstand108, nightstand).
closed(nightstand108).
surfaces(nightstand108).
can_open(nightstand108).
containers(nightstand108).
furniture(nightstand108).
type(chair109, chair).
surfaces(chair109).
grabbable(chair109).
sittable(chair109).
movable(chair109).
furniture(chair109).
type(desk110, desk).
closed(desk110).
surfaces(desk110).
can_open(desk110).
movable(desk110).
furniture(desk110).
type(bed111, bed).
surfaces(bed111).
sittable(bed111).
lieable(bed111).
furniture(bed111).
type(chair112, chair).
surfaces(chair112).
grabbable(chair112).
sittable(chair112).
movable(chair112).
furniture(chair112).
type(coffeetable113, coffeetable).
surfaces(coffeetable113).
movable(coffeetable113).
furniture(coffeetable113).
type(closet114, closet).
closed(closet114).
can_open(closet114).
containers(closet114).
furniture(closet114).
type(hanger115, hanger).
grabbable(hanger115).
hangable(hanger115).
movable(hanger115).
furniture(hanger115).
type(hanger116, hanger).
grabbable(hanger116).
hangable(hanger116).
movable(hanger116).
furniture(hanger116).
type(hanger117, hanger).
grabbable(hanger117).
hangable(hanger117).
movable(hanger117).
furniture(hanger117).
type(hanger118, hanger).
grabbable(hanger118).
hangable(hanger118).
movable(hanger118).
furniture(hanger118).
type(hanger119, hanger).
grabbable(hanger119).
hangable(hanger119).
movable(hanger119).
furniture(hanger119).
type(hanger120, hanger).
grabbable(hanger120).
hangable(hanger120).
movable(hanger120).
furniture(hanger120).
type(hanger121, hanger).
grabbable(hanger121).
hangable(hanger121).
movable(hanger121).
furniture(hanger121).
type(closetdrawer122, closetdrawer).
furniture(closetdrawer122).
type(closetdrawer123, closetdrawer).
furniture(closetdrawer123).
type(closetdrawer124, closetdrawer).
furniture(closetdrawer124).
type(closetdrawer125, closetdrawer).
furniture(closetdrawer125).
type(closetdrawer126, closetdrawer).
furniture(closetdrawer126).
type(closetdrawer127, closetdrawer).
furniture(closetdrawer127).
type(closetdrawer128, closetdrawer).
furniture(closetdrawer128).
type(closet129, closet).
closed(closet129).
can_open(closet129).
containers(closet129).
furniture(closet129).
type(hanger130, hanger).
grabbable(hanger130).
hangable(hanger130).
movable(hanger130).
furniture(hanger130).
type(clothesshirt131, clothesshirt).
grabbable(clothesshirt131).
hangable(clothesshirt131).
clothes(clothesshirt131).
movable(clothesshirt131).
furniture(clothesshirt131).
type(hanger132, hanger).
grabbable(hanger132).
hangable(hanger132).
movable(hanger132).
furniture(hanger132).
type(clothespants133, clothespants).
grabbable(clothespants133).
hangable(clothespants133).
clothes(clothespants133).
movable(clothespants133).
furniture(clothespants133).
type(hanger134, hanger).
grabbable(hanger134).
hangable(hanger134).
movable(hanger134).
furniture(hanger134).
type(clothesshirt135, clothesshirt).
grabbable(clothesshirt135).
hangable(clothesshirt135).
clothes(clothesshirt135).
movable(clothesshirt135).
furniture(clothesshirt135).
type(hanger136, hanger).
grabbable(hanger136).
hangable(hanger136).
movable(hanger136).
furniture(hanger136).
type(clothespants137, clothespants).
grabbable(clothespants137).
hangable(clothespants137).
clothes(clothespants137).
movable(clothespants137).
furniture(clothespants137).
type(hanger138, hanger).
grabbable(hanger138).
hangable(hanger138).
movable(hanger138).
furniture(hanger138).
type(clothespants139, clothespants).
grabbable(clothespants139).
hangable(clothespants139).
clothes(clothespants139).
movable(clothespants139).
furniture(clothespants139).
type(hanger140, hanger).
grabbable(hanger140).
hangable(hanger140).
movable(hanger140).
furniture(hanger140).
type(clothespants141, clothespants).
grabbable(clothespants141).
hangable(clothespants141).
clothes(clothespants141).
movable(clothespants141).
furniture(clothespants141).
type(hanger142, hanger).
grabbable(hanger142).
hangable(hanger142).
movable(hanger142).
furniture(hanger142).
type(clothespants143, clothespants).
grabbable(clothespants143).
hangable(clothespants143).
clothes(clothespants143).
movable(clothespants143).
furniture(clothespants143).
type(hanger144, hanger).
grabbable(hanger144).
hangable(hanger144).
movable(hanger144).
furniture(hanger144).
type(clothesshirt145, clothesshirt).
grabbable(clothesshirt145).
hangable(clothesshirt145).
clothes(clothesshirt145).
movable(clothesshirt145).
furniture(clothesshirt145).
type(hanger146, hanger).
grabbable(hanger146).
hangable(hanger146).
movable(hanger146).
furniture(hanger146).
type(hanger147, hanger).
grabbable(hanger147).
hangable(hanger147).
movable(hanger147).
furniture(hanger147).
type(hanger148, hanger).
grabbable(hanger148).
hangable(hanger148).
movable(hanger148).
furniture(hanger148).
type(closetdrawer149, closetdrawer).
furniture(closetdrawer149).
type(clothespile150, clothespile).
closed(clothespile150).
grabbable(clothespile150).
can_open(clothespile150).
containers(clothespile150).
movable(clothespile150).
furniture(clothespile150).
type(clothespile151, clothespile).
closed(clothespile151).
grabbable(clothespile151).
can_open(clothespile151).
containers(clothespile151).
movable(clothespile151).
furniture(clothespile151).
type(closetdrawer152, closetdrawer).
furniture(closetdrawer152).
type(clothespile153, clothespile).
closed(clothespile153).
grabbable(clothespile153).
can_open(clothespile153).
containers(clothespile153).
movable(clothespile153).
furniture(clothespile153).
type(closetdrawer154, closetdrawer).
furniture(closetdrawer154).
type(clothespile155, clothespile).
closed(clothespile155).
grabbable(clothespile155).
can_open(clothespile155).
containers(clothespile155).
movable(clothespile155).
furniture(clothespile155).
type(closetdrawer156, closetdrawer).
furniture(closetdrawer156).
type(clothespile157, clothespile).
closed(clothespile157).
grabbable(clothespile157).
can_open(clothespile157).
containers(clothespile157).
movable(clothespile157).
furniture(clothespile157).
type(clothespile158, clothespile).
closed(clothespile158).
grabbable(clothespile158).
can_open(clothespile158).
containers(clothespile158).
movable(clothespile158).
furniture(clothespile158).
type(clothespile159, clothespile).
closed(clothespile159).
grabbable(clothespile159).
can_open(clothespile159).
containers(clothespile159).
movable(clothespile159).
furniture(clothespile159).
type(closetdrawer160, closetdrawer).
furniture(closetdrawer160).
type(clothespile161, clothespile).
closed(clothespile161).
grabbable(clothespile161).
can_open(clothespile161).
containers(clothespile161).
movable(clothespile161).
furniture(clothespile161).
type(clothespile162, clothespile).
closed(clothespile162).
grabbable(clothespile162).
can_open(clothespile162).
containers(clothespile162).
movable(clothespile162).
furniture(clothespile162).
type(clothespile163, clothespile).
closed(clothespile163).
grabbable(clothespile163).
can_open(clothespile163).
containers(clothespile163).
movable(clothespile163).
furniture(clothespile163).
type(closetdrawer164, closetdrawer).
furniture(closetdrawer164).
type(clothespile165, clothespile).
closed(clothespile165).
grabbable(clothespile165).
can_open(clothespile165).
containers(clothespile165).
movable(clothespile165).
furniture(clothespile165).
type(closetdrawer166, closetdrawer).
furniture(closetdrawer166).
type(clothespile167, clothespile).
closed(clothespile167).
grabbable(clothespile167).
can_open(clothespile167).
containers(clothespile167).
movable(clothespile167).
furniture(clothespile167).
type(clothespile168, clothespile).
closed(clothespile168).
grabbable(clothespile168).
can_open(clothespile168).
containers(clothespile168).
movable(clothespile168).
furniture(clothespile168).
type(clothespile169, clothespile).
closed(clothespile169).
grabbable(clothespile169).
can_open(clothespile169).
containers(clothespile169).
movable(clothespile169).
furniture(clothespile169).
type(clothespile170, clothespile).
closed(clothespile170).
grabbable(clothespile170).
can_open(clothespile170).
containers(clothespile170).
movable(clothespile170).
furniture(clothespile170).
type(doorjamb171, doorjamb).
doors(doorjamb171).
type(mouse172, mouse).
grabbable(mouse172).
has_plug(mouse172).
movable(mouse172).
electronics(mouse172).
type(mousemat173, mousemat).
surfaces(mousemat173).
movable(mousemat173).
electronics(mousemat173).
type(keyboard174, keyboard).
grabbable(keyboard174).
has_plug(keyboard174).
movable(keyboard174).
electronics(keyboard174).
type(lightswitch175, lightswitch).
on(lightswitch175).
has_switch(lightswitch175).
has_plug(lightswitch175).
electronics(lightswitch175).
type(computer176, computer).
off(computer176).
has_switch(computer176).
lookable(computer176).
electronics(computer176).
type(cpuscreen177, cpuscreen).
electronics(cpuscreen177).
type(radio178, radio).
off(radio178).
surfaces(radio178).
grabbable(radio178).
can_open(radio178).
has_switch(radio178).
has_plug(radio178).
movable(radio178).
electronics(radio178).
type(rug179, rug).
surfaces(rug179).
grabbable(rug179).
sittable(rug179).
lieable(rug179).
movable(rug179).
decor(rug179).
type(wallpictureframe180, wallpictureframe).
grabbable(wallpictureframe180).
hangable(wallpictureframe180).
has_paper(wallpictureframe180).
movable(wallpictureframe180).
decor(wallpictureframe180).
type(wallpictureframe181, wallpictureframe).
grabbable(wallpictureframe181).
hangable(wallpictureframe181).
has_paper(wallpictureframe181).
movable(wallpictureframe181).
decor(wallpictureframe181).
type(wallpictureframe182, wallpictureframe).
grabbable(wallpictureframe182).
hangable(wallpictureframe182).
has_paper(wallpictureframe182).
movable(wallpictureframe182).
decor(wallpictureframe182).
type(candle183, candle).
off(candle183).
grabbable(candle183).
has_switch(candle183).
movable(candle183).
decor(candle183).
type(orchid184, orchid).
decor(orchid184).
type(curtains185, curtains).
closed(curtains185).
can_open(curtains185).
cover_object(curtains185).
movable(curtains185).
decor(curtains185).
type(curtains186, curtains).
closed(curtains186).
can_open(curtains186).
cover_object(curtains186).
movable(curtains186).
decor(curtains186).
type(curtains187, curtains).
closed(curtains187).
can_open(curtains187).
cover_object(curtains187).
movable(curtains187).
decor(curtains187).
type(pillow188, pillow).
grabbable(pillow188).
movable(pillow188).
decor(pillow188).
type(pillow189, pillow).
grabbable(pillow189).
movable(pillow189).
decor(pillow189).
type(cellphone190, cellphone).
off(cellphone190).
grabbable(cellphone190).
has_switch(cellphone190).
has_plug(cellphone190).
movable(cellphone190).
props(cellphone190).
type(photoframe191, photoframe).
props(photoframe191).
type(book192, book).
closed(book192).
grabbable(book192).
cuttable(book192).
can_open(book192).
readable(book192).
has_paper(book192).
movable(book192).
props(book192).
type(book193, book).
closed(book193).
grabbable(book193).
cuttable(book193).
can_open(book193).
readable(book193).
has_paper(book193).
movable(book193).
props(book193).
type(box194, box).
closed(box194).
grabbable(box194).
recipient(box194).
can_open(box194).
containers(box194).
cover_object(box194).
movable(box194).
props(box194).
type(plate195, plate).
surfaces(plate195).
grabbable(plate195).
recipient(plate195).
movable(plate195).
props(plate195).
type(mug196, mug).
grabbable(mug196).
recipient(mug196).
pourable(mug196).
movable(mug196).
props(mug196).
type(cupcake197, cupcake).
grabbable(cupcake197).
eatable(cupcake197).
movable(cupcake197).
props(cupcake197).
type(cupcake198, cupcake).
grabbable(cupcake198).
eatable(cupcake198).
movable(cupcake198).
props(cupcake198).
type(wineglass199, wineglass).
grabbable(wineglass199).
recipient(wineglass199).
pourable(wineglass199).
movable(wineglass199).
props(wineglass199).
type(wineglass200, wineglass).
grabbable(wineglass200).
recipient(wineglass200).
pourable(wineglass200).
movable(wineglass200).
props(wineglass200).
type(plate201, plate).
surfaces(plate201).
grabbable(plate201).
recipient(plate201).
movable(plate201).
props(plate201).
type(slippers202, slippers).
grabbable(slippers202).
hangable(slippers202).
clothes(slippers202).
movable(slippers202).
props(slippers202).
type(slippers203, slippers).
grabbable(slippers203).
hangable(slippers203).
clothes(slippers203).
movable(slippers203).
props(slippers203).
type(cellphone204, cellphone).
off(cellphone204).
grabbable(cellphone204).
has_switch(cellphone204).
has_plug(cellphone204).
movable(cellphone204).
props(cellphone204).
type(folder205, folder).
closed(folder205).
grabbable(folder205).
can_open(folder205).
readable(folder205).
containers(folder205).
has_paper(folder205).
movable(folder205).
props(folder205).
type(folder206, folder).
closed(folder206).
grabbable(folder206).
can_open(folder206).
readable(folder206).
containers(folder206).
has_paper(folder206).
movable(folder206).
props(folder206).
open_list([door227]).
closed_list([nightstand108, coffeepot308, clothespile159, box194, kitchencabinet236, curtains185, clothespile165, clothespile161, curtains186, curtains187, clothespile163, clothespile155, folder205, book293, book269, window92, kitchencabinet237, box288, microwave314, book292, nightstand106, clothespile287, clothespile151, kitchencabinet234, closet129, stove312, book291, kitchencabinet235, book290, clothespile150, book294, clothespile162, clothespile169, garbagecan105, desk110, clothespile157, folder206, clothespile168, clothespile153, clothespile167, closet114, kitchencounter238, box301, clothespile170, book193, book192, fridge306, clothespile158]).
off_list([microwave314, cellphone204, cellphone190, coffeemaker307, toaster309, tv265, wallphone264, stove312, faucet249, computer176, candle183, radio178, clock266]).
on_list([tablelamp104, lightswitch175, lightswitch262, tablelamp103]).
inside([[folder205, bedroom74], [chocolatesyrup332, kitchen207], [kitchencabinet237, kitchen207], [hanger146, closet129], [hanger132, bedroom74], [wall217, kitchen207], [breadslice311, kitchen207], [condimentbottle296, kitchen207], [clothesshirt135, closet129], [bench232, kitchen207], [hanger121, closet114], [book293, bookshelf250], [kitchencounterdrawer246, kitchen207], [box301, kitchen207], [faucet249, kitchen207], [kitchencounterdrawer241, kitchen207], [wallpictureframe255, kitchen207], [plate201, bedroom74], [hanger119, bedroom74], [closetdrawer128, closet114], [clothespile151, bedroom74], [bellpepper321, kitchen207], [ceiling97, bedroom74], [floor78, bedroom74], [kitchencounterdrawer245, kitchen207], [dishwashingliquid268, kitchen207], [hanger116, closet114], [salmon328, kitchen207], [condimentbottle296, bookshelf250], [bananas316, kitchen207], [box288, kitchen207], [computer176, bedroom74], [kitchencabinet236, kitchen207], [closetdrawer160, clothespile162], [condimentshaker297, bookshelf250], [kitchencounter238, kitchen207], [dishbowl327, kitchen207], [orchid261, kitchen207], [kitchencabinet234, kitchen207], [book192, bookshelf107], [creamybuns334, kitchen207], [paper303, kitchen207], [tablelamp104, bedroom74], [plate315, microwave314], [closetdrawer123, closet114], [hanger138, bedroom74], [waterglass271, kitchen207], [closetdrawer125, closet114], [hanger115, closet114], [clothespile165, bedroom74], [ceiling224, kitchen207], [rug179, bedroom74], [closetdrawer125, bedroom74], [hanger130, closet129], [kitchentable231, kitchen207], [floor77, bedroom74], [folder206, bedroom74], [cutleryfork273, kitchen207], [cutleryknife284, kitchen207], [cutleryknife276, kitchen207], [hanger144, closet129], [closetdrawer166, clothespile169], [folder206, bookshelf107], [sink247, kitchen207], [floor82, bedroom74], [door227, kitchen207], [clothespants137, bedroom74], [wall218, kitchen207], [hanger138, closet129], [bananas317, kitchen207], [bananas316, bookshelf250], [curtains185, bedroom74], [ceiling93, bedroom74], [hanger120, closet114], [clothespile165, closet129], [dishbowl289, kitchen207], [curtains186, bedroom74], [kitchencabinet235, kitchen207], [clothespants139, bedroom74], [clothespants139, closet129], [sink248, kitchen207], [clothespile169, bedroom74], [waterglass283, kitchen207], [book269, kitchen207], [cellphone204, bedroom74], [clothespile158, closet129], [hanger118, bedroom74], [clothespile153, bedroom74], [wall88, bedroom74], [kitchencounterdrawer239, kitchen207], [pillow189, bedroom74], [book292, kitchen207], [plate286, kitchen207], [hanger121, bedroom74], [ceiling95, bedroom74], [hanger144, bedroom74], [rug253, kitchen207], [wallpictureframe256, kitchen207], [closetdrawer154, bedroom74], [book292, bookshelf250], [ceiling94, bedroom74], [oventray313, stove312], [clothespile287, kitchen207], [hanger148, bedroom74], [paper304, bookshelf250], [clothesshirt145, bedroom74], [bed111, bedroom74], [orchid184, bedroom74], [cutleryfork285, kitchen207], [slippers202, bedroom74], [photoframe191, bookshelf107], [wallpictureframe259, kitchen207], [keyboard174, bedroom74], [candybar331, kitchen207], [ceilinglamp228, kitchen207], [plate315, kitchen207], [book290, kitchen207], [floor213, kitchen207], [clothesshirt131, bedroom74], [book192, bedroom74], [hanger142, bedroom74], [clothespile163, bedroom74], [kitchencounterdrawer243, kitchen207], [wall91, bedroom74], [clothespile157, bedroom74], [hanger117, closet114], [book291, bookshelf250], [closetdrawer149, closet129], [clothespants137, closet129], [closetdrawer164, bedroom74], [hanger147, closet129], [hanger146, bedroom74], [closet129, bedroom74], [closetdrawer156, clothespile158], [plate195, bedroom74], [fryingpan270, kitchen207], [closetdrawer123, bedroom74], [breadslice310, kitchen207], [candle183, bedroom74], [wall87, bedroom74], [slippers203, bedroom74], [hanger117, bedroom74], [wallpictureframe258, kitchen207], [mousemat173, bedroom74], [waterglass275, kitchen207], [chair109, bedroom74], [stovefan305, kitchen207], [wallpictureframe260, kitchen207], [clothespile159, closet129], [floor79, bedroom74], [hanger136, closet129], [hanger147, bedroom74], [bellpepper324, kitchen207], [closetdrawer160, bedroom74], [wall216, kitchen207], [crackers333, kitchen207], [floor208, kitchen207], [floor210, kitchen207], [ceiling226, kitchen207], [garbagecan105, bedroom74], [hanger119, closet114], [ceilinglamp102, bedroom74], [floor75, bedroom74], [pie320, kitchen207], [wall85, bedroom74], [character1, kitchen207], [lightswitch262, kitchen207], [whippedcream319, kitchen207], [closetdrawer127, closet114], [dishbowl318, bookshelf250], [clothespile170, closet129], [clothespants141, closet129], [book290, bookshelf250], [plate279, kitchen207], [hanger115, bedroom74], [book294, kitchen207], [book193, bookshelf107], [box194, bookshelf107], [hanger120, bedroom74], [floor80, bedroom74], [clothesshirt135, bedroom74], [paper304, kitchen207], [coffeepot308, kitchen207], [closetdrawer149, bedroom74], [clothespile161, bedroom74], [hanger140, bedroom74], [closetdrawer166, bedroom74], [microwave314, kitchen207], [wall219, kitchen207], [coffeetable113, bedroom74], [closetdrawer122, bedroom74], [wallpictureframe182, bedroom74], [wallpictureframe180, bedroom74], [clothespile151, closet129], [condimentshaker298, bookshelf250], [ceiling99, bedroom74], [clothespants141, bedroom74], [mug196, bedroom74], [wall90, bedroom74], [ceiling222, kitchen207], [chips330, kitchen207], [closetdrawer127, bedroom74], [powersocket263, kitchen207], [clothespile170, bedroom74], [closetdrawer152, closet129], [wall84, bedroom74], [clothespile168, closet129], [closetdrawer126, bedroom74], [wall86, bedroom74], [hanger136, bedroom74], [coffeemaker307, kitchen207], [closetdrawer126, closet114], [closetdrawer156, bedroom74], [ceiling98, bedroom74], [clothespile150, closet129], [book291, kitchen207], [plate274, kitchen207], [photoframe191, bedroom74], [floor81, bedroom74], [dishbowl318, kitchen207], [floor209, kitchen207], [wineglass300, kitchen207], [folder205, bookshelf107], [hanger116, bedroom74], [radio178, bookshelf107], [ceiling100, bedroom74], [clothespants133, closet129], [closetdrawer160, closet129], [bookshelf250, kitchen207], [clothespants143, closet129], [oventray313, kitchen207], [clothespile287, bookshelf250], [coffeepot308, coffeemaker307], [pillow188, bedroom74], [cutleryfork280, kitchen207], [clothespile163, closet129], [clothespile161, closet129], [paper303, bookshelf250], [doorjamb171, bedroom74], [book293, kitchen207], [closetdrawer154, clothespile155], [hanger148, closet129], [kitchencounterdrawer240, kitchen207], [floor76, bedroom74], [closetdrawer122, closet114], [dishbowl289, bookshelf250], [wineglass200, bedroom74], [floor212, kitchen207], [clothespile168, bedroom74], [book294, bookshelf250], [clothespants133, bedroom74], [fridge306, kitchen207], [radio178, bedroom74], [photoframe302, kitchen207], [window92, bedroom74], [bellpepper322, kitchen207], [clothespants143, bedroom74], [hanger140, closet129], [washingsponge267, kitchen207], [clothespile150, bedroom74], [breadslice310, toaster309], [closetdrawer154, closet129], [wallshelf251, kitchen207], [ceiling96, bedroom74], [cupcake198, bedroom74], [floor83, bedroom74], [tablelamp103, bedroom74], [plate278, kitchen207], [wall89, bedroom74], [closetdrawer152, clothespile153], [hanger118, closet114], [bellpepper325, kitchen207], [cutleryknife272, kitchen207], [wineglass299, kitchen207], [rug254, kitchen207], [bellpepper323, kitchen207], [ceilinglamp229, kitchen207], [clothespile162, closet129], [wallphone264, kitchen207], [clock266, kitchen207], [condimentshaker297, kitchen207], [closetdrawer166, closet129], [hanger134, closet129], [chips329, kitchen207], [cupcake197, bedroom74], [kitchencounterdrawer244, kitchen207], [condimentbottle295, bookshelf250], [cereal335, kitchen207], [wineglass199, bedroom74], [ceiling221, kitchen207], [hanger132, closet129], [cellphone190, bedroom74], [wallshelf252, kitchen207], [kitchencounterdrawer242, kitchen207], [box288, bookshelf250], [toaster309, kitchen207], [stove312, kitchen207], [closetdrawer128, bedroom74], [lightswitch175, bedroom74], [closetdrawer124, closet114], [clothespile153, closet129], [bookshelf107, bedroom74], [ceiling101, bedroom74], [hanger130, bedroom74], [cpuscreen177, bedroom74], [closetdrawer156, closet129], [bench233, kitchen207], [clothespile167, bedroom74], [clothespile167, closet129], [clothespile157, closet129], [waterglass282, kitchen207], [closet114, bedroom74], [ceiling223, kitchen207], [clothespile158, bedroom74], [clothespile159, bedroom74], [bananas317, bookshelf250], [floor211, kitchen207], [wall215, kitchen207], [wall214, kitchen207], [hanger142, closet129], [tv265, kitchen207], [closetdrawer164, closet129], [hanger134, bedroom74], [cutleryknife281, kitchen207], [wallpictureframe181, bedroom74], [nightstand108, bedroom74], [closetdrawer124, bedroom74], [mouse172, bedroom74], [clothespile155, closet129], [nightstand106, bedroom74], [breadslice311, toaster309], [tvstand230, kitchen207], [cutleryfork277, kitchen207], [wallpictureframe257, kitchen207], [closetdrawer152, bedroom74], [book193, bedroom74], [curtains187, bedroom74], [desk110, bedroom74], [box194, bedroom74], [wall220, kitchen207], [clothesshirt131, closet129], [condimentbottle295, kitchen207], [condimentshaker298, kitchen207], [clothesshirt145, closet129], [bellpepper326, kitchen207], [ceiling225, kitchen207], [chair112, bedroom74], [clothespile162, bedroom74], [clothespile155, bedroom74], [clothespile169, closet129]]).
ontopof([[coffeemaker307, kitchencounterdrawer243], [plate278, kitchentable231], [plate201, coffeetable113], [closetdrawer125, closetdrawer126], [waterglass275, kitchentable231], [hanger132, clothespants133], [tablelamp104, nightstand108], [clothesshirt135, closetdrawer149], [dishbowl327, kitchencounter238], [cupcake197, desk110], [clothesshirt131, closetdrawer149], [closetdrawer122, closetdrawer125], [chips330, wallshelf251], [chips329, wallshelf251], [kitchencounterdrawer240, kitchencounterdrawer239], [bench233, rug254], [desk110, floor81], [clothespants133, closetdrawer149], [hanger138, clothespants139], [waterglass282, rug253], [wallshelf251, wall217], [waterglass283, kitchentable231], [bellpepper321, kitchencounterdrawer244], [nightstand108, floor77], [clothespants137, closetdrawer149], [pillow188, bed111], [clothespile161, closetdrawer166], [coffeetable113, floor79], [tv265, bench233], [bellpepper324, kitchencounterdrawer244], [bed111, floor76], [closetdrawer149, closetdrawer156], [whippedcream319, kitchentable231], [whippedcream319, rug253], [dishwashingliquid268, kitchencounter238], [fryingpan270, stove312], [creamybuns334, wallshelf252], [faucet249, kitchencounter238], [clothespile150, closetdrawer156], [fridge306, floor208], [crackers333, wallshelf252], [salmon328, microwave314], [microwave314, kitchencounter238], [bellpepper324, kitchencounter238], [waterglass282, kitchentable231], [waterglass283, rug253], [tablelamp103, bed111], [mouse172, desk110], [cereal335, wallshelf252], [orchid184, coffeetable113], [bench232, rug254], [wallpictureframe258, wall219], [wallpictureframe182, bed111], [clothespile151, closetdrawer156], [box301, tvstand230], [closetdrawer160, closetdrawer166], [tablelamp104, bed111], [kitchencounterdrawer241, toilet46], [waterglass275, rug253], [rug253, kitchentable231], [box288, bookshelf250], [book192, bookshelf107], [clothespants139, closetdrawer149], [plate195, desk110], [folder205, bookshelf107], [cutleryfork273, kitchentable231], [hanger142, clothespants143], [waterglass271, kitchentable231], [waterglass271, rug253], [cutleryknife281, kitchentable231], [bellpepper321, kitchencounter238], [kitchencounterdrawer241, kitchencounterdrawer242], [candybar331, wallshelf251], [kitchencounterdrawer246, toilet46], [slippers203, floor76], [mousemat173, desk110], [plate315, kitchencounter238], [tvstand230, floor213], [kitchencounterdrawer244, kitchencounterdrawer246], [bellpepper322, kitchencounter238], [kitchencounterdrawer243, kitchencounter238], [closetdrawer154, closetdrawer164], [book269, rug253], [plate286, kitchentable231], [bellpepper323, kitchencounter238], [closetdrawer124, closetdrawer127], [wineglass300, tvstand230], [cutleryfork285, kitchentable231], [clothespants143, closetdrawer149], [cellphone190, coffeetable113], [bellpepper322, kitchencounterdrawer244], [pillow189, chair112], [clothespants137, clothespile151], [wineglass199, coffeetable113], [bellpepper325, kitchencounter238], [book269, kitchentable231], [cutleryfork280, kitchentable231], [mouse172, mousemat173], [clothespants143, clothespile151], [hanger136, clothespants137], [cupcake198, desk110], [clothespile162, closetdrawer166], [keyboard174, desk110], [bookshelf107, floor78], [pillow188, chair112], [wineglass299, tvstand230], [mug196, desk110], [wallpictureframe258, wallpictureframe260], [nightstand106, floor75], [closetdrawer123, closetdrawer124], [wallpictureframe257, wallpictureframe255], [pie320, kitchentable231], [cpuscreen177, desk110], [folder206, bookshelf107], [kitchencounterdrawer240, toilet46], [bench232, floor210], [dishbowl289, bookshelf250], [bellpepper325, kitchencounterdrawer244], [clothesshirt135, clothespile150], [wallpictureframe180, bench233], [nightstand106, rug179], [coffeemaker307, kitchencounter238], [tablelamp103, chair112], [nightstand108, rug179], [slippers202, floor76], [photoframe302, tvstand230], [bed111, rug179], [pillow189, bed111], [kitchencounterdrawer244, kitchencounter238], [plate279, kitchentable231], [tv265, tvstand230], [bookshelf250, floor212], [closetdrawer152, closetdrawer154], [candle183, coffeetable113], [tablelamp104, chair112], [clothespile163, closetdrawer166], [cutleryknife276, kitchentable231], [orchid261, tvstand230], [tv265, bench232], [cutleryknife284, kitchentable231], [closetdrawer156, closetdrawer160], [closetdrawer126, closetdrawer128], [pie320, rug253], [kitchencounterdrawer243, kitchencounterdrawer241], [cellphone204, coffeetable113], [chocolatesyrup332, wallshelf251], [microwave314, kitchencounterdrawer244], [kitchencounterdrawer246, kitchencounterdrawer245], [wallpictureframe180, bench232], [clothespile153, closetdrawer154], [bellpepper323, kitchencounterdrawer244], [coffeepot308, kitchencounter238], [cutleryfork277, kitchentable231], [toaster309, kitchencounter238], [wineglass200, coffeetable113], [clothesshirt145, closetdrawer149], [bench233, floor210], [plate274, kitchentable231], [slippers202, rug179], [cutleryknife272, kitchentable231], [toaster309, kitchencounterdrawer243], [washingsponge267, kitchencounter238], [bathroomcounter50, chair112], [bellpepper326, kitchencounter238], [wallpictureframe182, chair112], [slippers203, rug179], [tablelamp103, nightstand106]]).
close([[character1, plate315], [character1, waterglass283], [character1, chips329], [kitchencounterdrawer239, character1], [faucet249, character1], [coffeepot308, character1], [kitchencabinet236, character1], [character1, bench233], [character1, waterglass282], [character1, chips330], [kitchencounterdrawer243, character1], [character1, bellpepper323], [oventray313, character1], [character1, kitchencabinet235], [character1, breadslice311], [breadslice310, character1], [kitchencounterdrawer241, character1], [kitchencabinet235, character1], [kitchencounterdrawer242, character1], [stovefan305, character1], [character1, microwave314], [chocolatesyrup332, character1], [kitchencounterdrawer244, character1], [coffeemaker307, character1], [pie320, character1], [toaster309, character1], [character1, cutleryfork280], [character1, coffeemaker307], [kitchencounter238, character1], [microwave314, character1], [dishbowl327, character1], [character1, kitchencounterdrawer246], [character1, stovefan305], [character1, kitchencounterdrawer243], [character1, toaster309], [character1, faucet249], [plate286, character1], [character1, rug253], [character1, kitchencounterdrawer242], [character1, bellpepper322], [bench233, character1], [plate279, character1], [character1, kitchencounterdrawer240], [character1, chocolatesyrup332], [character1, kitchencounterdrawer244], [rug253, character1], [character1, fryingpan270], [book269, character1], [character1, breadslice310], [character1, stove312], [character1, washingsponge267], [chips329, character1], [character1, plate286], [kitchencounterdrawer240, character1], [character1, cutleryfork285], [kitchencabinet234, character1], [character1, kitchencounter238], [character1, kitchencabinet237], [washingsponge267, character1], [character1, kitchencounterdrawer241], [character1, salmon328], [character1, pie320], [breadslice311, character1], [character1, rug254], [character1, plate279], [character1, bellpepper325], [waterglass283, character1], [character1, dishbowl327], [character1, kitchencabinet236], [kitchencabinet237, character1], [character1, coffeepot308], [plate315, character1], [stove312, character1], [cutleryknife281, character1], [bellpepper326, character1], [character1, cutleryknife284], [character1, dishwashingliquid268], [kitchencounterdrawer245, character1], [sink247, character1], [character1, kitchencounterdrawer239], [character1, sink247], [character1, bellpepper321], [dishwashingliquid268, character1], [character1, bellpepper326], [character1, book269], [candybar331, character1], [rug254, character1], [fryingpan270, character1], [chips330, character1], [kitchencounterdrawer246, character1], [bellpepper323, character1], [character1, kitchencabinet234], [bellpepper322, character1], [character1, kitchencounterdrawer245], [kitchentable231, character1], [cutleryfork280, character1], [character1, candybar331], [character1, bellpepper324], [cutleryknife284, character1], [waterglass282, character1], [character1, wallshelf251], [character1, oventray313], [cutleryfork285, character1], [character1, kitchentable231], [bellpepper321, character1], [bellpepper325, character1], [character1, cutleryknife281], [wallshelf251, character1], [bellpepper324, character1], [salmon328, character1]]).
facing([[bench232, tv265], [waterglass275, clock266], [clock266, tv265], [condimentshaker297, tv265], [creamybuns334, tv265], [cutleryknife281, tv265], [wallpictureframe259, tv265], [cutleryknife272, tv265], [box288, tv265], [wallphone264, clock266], [cutleryfork277, clock266], [plate286, tv265], [kitchentable231, tv265], [book292, tv265], [plate279, clock266], [cutleryknife281, clock266], [wallpictureframe260, tv265], [waterglass282, clock266], [cellphone204, computer176], [condimentshaker298, tv265], [cereal335, tv265], [whippedcream319, tv265], [cutleryfork273, tv265], [waterglass282, tv265], [waterglass275, tv265], [bananas317, tv265], [bench232, clock266], [bookshelf250, tv265], [waterglass283, tv265], [tv265, clock266], [plate278, tv265], [condimentbottle296, tv265], [crackers333, tv265], [condimentbottle295, tv265], [cutleryknife284, tv265], [whippedcream319, clock266], [clothespile287, tv265], [waterglass271, tv265], [wineglass200, computer176], [rug253, tv265], [book269, clock266], [hanger121, computer176], [closet114, computer176], [book290, tv265], [plate274, clock266], [book291, tv265], [dishbowl318, tv265], [powersocket263, clock266], [wallshelf252, tv265], [orchid184, computer176], [bananas316, tv265], [wineglass199, computer176], [dishbowl289, tv265], [wallpictureframe258, tv265], [pie320, clock266], [plate279, tv265], [cutleryfork273, clock266], [orchid261, tv265], [plate278, clock266], [hanger119, computer176], [rug254, clock266], [coffeetable113, computer176], [waterglass271, clock266], [wallphone264, tv265], [lightswitch262, tv265], [plate274, tv265], [rug253, clock266], [cutleryknife276, tv265], [book293, tv265], [pie320, tv265], [lightswitch262, clock266], [cutleryfork280, tv265], [book269, tv265], [paper303, tv265], [cutleryfork277, tv265], [book294, tv265], [hanger118, computer176], [cellphone190, computer176]]).
inside_character([kitchen207]).
close_character([kitchentable231, bench233, kitchencabinet234, kitchencabinet235, kitchencabinet236, kitchencabinet237, kitchencounter238, kitchencounterdrawer239, kitchencounterdrawer240, kitchencounterdrawer241, kitchencounterdrawer242, kitchencounterdrawer243, kitchencounterdrawer244, kitchencounterdrawer245, kitchencounterdrawer246, sink247, faucet249, wallshelf251, rug253, rug254, washingsponge267, dishwashingliquid268, book269, fryingpan270, plate279, cutleryfork280, cutleryknife281, waterglass282, waterglass283, cutleryknife284, cutleryfork285, plate286, stovefan305, coffeemaker307, coffeepot308, toaster309, breadslice310, breadslice311, stove312, oventray313, microwave314, plate315, pie320, bellpepper321, bellpepper322, bellpepper323, bellpepper324, bellpepper325, bellpepper326, dishbowl327, salmon328, chips329, chips330, candybar331, chocolatesyrup332]).
rooms(kitchen207).
rooms(bedroom74).
% Rules
% Extra "facts" about objects that exist in the dataset but not the simulation
% For the task: "Vacuum"
type(vacuum0, vacuum).
has_switch(vacuum0).
grabbable(vacuum0).
has_plug(vacuum0).
movable(vacuum0).
% For the task: "Change Sheets and Pillows
type(sheets01, sheets).
grabbable(sheets01).
movable(sheets01).
type(pillowcase011, pillowcase).
type(pillowcase012, pillowcase).
grabbable(pillowcase011).
grabbable(pillowcase012).

type(sheets02, sheets).
grabbable(sheets02).
movable(sheets02).
type(pillowcase021, pillowcase).
type(pillowcase022, pillowcase).
grabbable(pillowcase021).
grabbable(pillowcase022).

% For the task: "Wash Dirty Dishes"
dirty([plate195, wineglass199]).
dish(X) :- type(X, plate).
dish(X) :- type(X, wineglass).
dish(X) :- type(X, mug).
dish(X) :- type(X, dishbowl).
dirty_in_sink(Sink, List) :- dirty(Dishes), dirty_in_sink(Sink, Dishes, [], List).
dirty_in_sink(Sink, [], List, List).
dirty_in_sink(Sink, [Dish | T], PrevList, List) :- dish(Dish), dirty_in_sink(Sink, T, [[Dish, Sink] | PrevList], List).
dirty_in_sink(Sink, [_ | T], PrevList, List) :- dirty_in_sink(Sink, T, PrevList, List).

% For the task "Feed Me"
needs_cooking(X) :- food(X), not eatable(X), not dish(X).
eatable(X) :- fruit(X).
eatable(X) :- vegetable(X).
fruit(X) :- type(X, bananas).
vegetable(X) :- type(X, bellpepper).
eatable(X) :- type(X, chips).
eatable(X) :- type(X, crackers).
can_cook(X) :- type(X, stove).

% For the task "Breakfast"
can_cook(X) :- type(X, toaster).
breakfast(X) :- type(X, breadslice).
easy_cooking(Toaster, Bread) :- type(Toaster, toaster), type(Bread, breadslice).

%% Unseen Data
%% For the task "Tabletop Game"
%type(tabletopgame3200, tabletopgame).
%grabbable(tabletopgame3200).
%movable(tabletopgame3200).
%
%% For the task "Pick up spare change on dresser"
%type(dresser3201, dresser).
%surfaces(dresser3201).
%movable(dresser3201).
%type(change3202, change).
%grabbable(change3202).
%
%% For the task "Put shoes and coats"
%type(shoe3203, shoe).
%clothes(shoe3203).
%grabbable(shoe3203).
%movable(shoe3203).
%type(shoe3204, shoe).
%clothes(shoe3204).
%grabbable(shoe3204).
%movable(shoe3204).
%type(coat3205, coat).
%clothes(coat3205).
%grabbable(coat3205).
%movable(coat3205).
%
%% For the task "Hair"
%type(comb3206, comb).
%grabbable(comb3206).
%movable(comb3206).
%
%% For the task "Cutting"
%type(cuttingboard3207, cuttingboard).
%grabbable(cuttingboard3207).
%movable(cuttingboard3207).
%
%% For the task "Put out flowers"
%type(flowers3208, flowers).
%grabbable(flowers3208).
%movable(flowers3208).
%type(vase3209, vase).
%grabbable(vase3209).
%movable(vase3209).
%surface(vase3209).
%
%% For the task "Put down bags"
%type(bag3210, bag).
%grabbable(bag3210).
%movable(bag3210).
%type(bag3211, bag).
%grabbable(bag3211).
%movable(bag3211).
%
%% holds_character([bag3210, bag3211]).
%
%% For the task "Curled hair"
%type(curlingiron3212, curlingiron).
%grabbable(curlingiron3212).
%movable(curlingiron3212).
%has_switch(curlingiron3212).
%
%% For the task "Place centerpiece"
%type(centerpiece3213, centerpiece).
%grabbable(centerpiece3213).
%movable(centerpiece3213).
%
%% For the task "Practice Violin"
%type(violin3214, violin).
%grabbable(violin3214).
%movable(violin3214).
%
%% For the task "Wipe room down with lysol"
%type(lysol3215, lysol).
%grabbable(lysol3215).
%movable(lysol3215).
%
%% For the task "Replace toothpaste"
%type(toothpaste1163, toothpaste).
%closed(toothpaste1163).
%grabbable(toothpaste1163).
%pourable(toothpaste1163).
%can_open(toothpaste1163).
%movable(toothpaste1163).
%cream(toothpaste1163).
%new(toothpaste1163).
%
%% For the task "Shampoo hair"
%type(shampoo3216, shampoo).
%grabbable(shampoo3216).
%pourable(shampoo3216).
%can_open(shampoo3216).
%movable(shampoo3216).

% Inside and ontopof for added predicates
extra_inside([[vacuum0, bedroom74],
[sheets01, bedroom74], [pillowcase011, bedroom74], [pillowcase012, bedroom74], [sheets02, livingroom336], [pillowcase021, livingroom336], [pillowcase022, livingroom336],
%[tabletopgame3200, livingroom336],
%[dresser3201, bedroom74], [change3202, bedroom74],
%[shoe3203, bedroom74], [shoe3204, bedroom74], [coat3205, bedroom74],
%[comb3206, bathroom11],
%[cuttingboard3207, kitchen207],
%[vase3209, kitchen207], [flowers3208, kitchen207],
%[bag3210, kitchen207], [bag3211, kitchen207],
%[curlingiron3212, bathroom11],
%[centerpiece3213, kitchen207],
%[violin3214, bedroom74],
%[lysol3215, bathroom11],
%[toothpaste1163, bedroom74],
[shampoo3216, bathroom11]
]).
extra_ontopof([[vacuum, floor75],
[sheets01, bed111], [pillowcase011, bed111], [pillowcase012, bed111], [sheets02, coffeetable372], [pillowcase021, coffeetable372], [pillowcase022, coffeetable372],
%[tabletopgame3200, bookshelf371],
%[change3202, dresser3201], [dresser3201, floor75],
%[shoe3203, floor75], [shoe3204, floor75], [coat3205, closetdrawer122],
%[comb3206, bathroomcounter50],
%[cuttingboard3207, kitchencounter238],
%[vase3209, kitchencounter238], [flowers3208, kitchencounter238],
%[curlingiron3212, bathroomcounter50],
%[centerpiece3213, kitchencounter238],
%[violin3214, coffeetable113]
%[lysol3215, bathroomcounter50],
%[toothpaste1163, coffeetable113],
[shampoo3216, bathroomcounter50]
]).

% Constraints
% Abducibles
movable(X) :- grabbable(X), not -movable(X).

% Helper functions
member(X,[X|_]).
member(X,[Y|T]) :- member(X,T).

not_member(_, []).
not_member(X, [Y | T]) :- X \= Y, not_member(X, T).

list_empty([]).
-list_empty([_|_]).

subset([], _).
subset([X | T], List) :- member(X, List), subset(T, List).

remove(X, List, NewList) :- remove(X, List, [], NewList).
remove(_, [], NewList, NewList).
remove(X, [X | T], List, NewList) :- remove(X, T, List, NewList).
remove(X, [Y | T], List, NewList) :- X \= Y, remove(X, T, [Y | List], NewList).

append([ ], Y, Y).
append([X|L1],L2,[X|L3]) :- append(L1,L2,L3).

inside_same_room(Item1, Item2) :- Item1 \= Item2, rooms(Room), inside(Inside), member([Item1, Room], Inside),
    member([Item2, Room], Inside).
inside_same_room(Item1, Item2) :- Item1 \= Item2, rooms(Room), inside(Inside1), extra_inside(Inside2),
    append(Inside1, Inside2, Inside), member([Item1, Room], Inside), member([Item2, Room], Inside).
-rooms(X) :- not rooms(X).

% Test queries
% ontopof_inherited(X, computer176, [[computer176, desk110], [desk110, floor81]]).
ontopof_inherited(ItemBelow, ItemOntop, OntopofList) :- member([ItemOntop, ItemBelow], OntopofList).
ontopof_inherited(ItemBelow, ItemOntop, OntopofList) :- member([ItemOnTop, ItemInBetween], OntopofList),
    ontopof_inherited(ItemBelow, ItemInBetween, OntopofList).
ontopof_inherited(ItemBelow, ItemOntop, OntopofList) :- member([ItemInBetween, ItemBelow], OntopofList),
    ontopof_inherited(ItemInBetween, ItemOntop, OntopofList).

% testing examples:
state_subset([close(CloseFinal), holds(HoldsFinal), sat_on(SatFinal), on_top_of(OtoFinal), inside(InsideFinal), on(OnFinal), laid_on(LaidFinal), used(UsedFinal), eaten(EatenFinal)],
             [close(Close), holds(Holds), sat_on(Sat), on_top_of(Oto), inside(Inside), on(On), laid_on(Laid), used(Used), eaten(Eaten)]) :-
                    subset(CloseFinal, Close), subset(HoldsFinal, Holds), subset(SatFinal, Sat),
                    subset(OtoFinal, Oto), subset(InsideFinal, Inside), subset(OnFinal, On),
                    subset(LaidFinal, Laid), subset(UsedFinal, Used), subset(EatenFinal, Eaten).

rev(L, R) :- trev(L, [], R). % O(n) time
trev([], P, P).
trev([H|T], P, R) :- trev(T, [H|P], R).

% Planning
close_state(close(Close)) :- close_character(Close).
close_state(close([])).

held_state(holds(Held)) :- holds_character(Held).
held_state(holds([])).

sitting_state(sat_on(Sat)) :- sitting_character(Sat).
sitting_state(sat_on([])).

ontopof_state(on_top_of(OnTopOf)) :- ontopof(OnTopOf1), extra_ontopof(OnTopOf2), append(OnTopOf1, OnTopOf2, OnTopOf).
ontopof_state(on_top_of(OnTopOf)) :- ontopof(OnTopOf).
ontopof_state(on_top_of(OnTopOf)) :- extra_ontopof(OnTopOf).
ontopof_state(on_top_of([])).

inside_state(inside(Inside)) :- inside(Inside1), extra_inside(Inside2), append(Inside1, Inside2, Inside).
inside_state(inside(Inside)) :- inside(Inside).
inside_state(inside(Inside)) :- extra_inside(Inside).
inside_state(inside([])).

on_state(on(On)) :- on_list(On).
on_state(on([])).

% Get the initial state in regards to what items are close and held
% Current state: [close(Close), holds(Held), sat_on(Sat)]
initial_state([Close, Held, Sat, OnTopOf, Inside, On, laid_on([]), used([]), eaten([])]) :-
    close_state(Close), held_state(Held), sitting_state(Sat), ontopof_state(OnTopOf), inside_state(Inside), on_state(On).

% We want to go from the current state to the final state
transform(FinalState, Plan) :- initial_state(State1), transform(State1, FinalState, [State1], Plan).
transform(State1, FinalState,_,[]) :- state_subset(FinalState, State1).
transform(State1, State2, Visited, [Action|Actions]) :-
    choose_action(Action, State1, State2),
    update(Action, State1, State),
    not_member(State, Visited),
    transform(State, State2, [State|Visited], Actions).

% We choose an action to take
% choose_action(action generated, current state, final state)
choose_action(Action, State1, State2) :- suggest(Action, State1, State2), legal_action(Action, State1).
choose_action(Action, State1, _) :- legal_action(Action, State1).
% Example test queries:
suggest(grab(X), [close(Close), _, _, on_top_of(OtoI), _, _, _, _, _], [_, _, _, on_top_of(OtoN), _, _, _, _, _]) :- member([X, Y], OtoN), not_member([X, Y], OtoI), member(X, Close).
suggest(put(X,Y), [close(Close), holds(Held), _, on_top_of(OtoI), _, _, _, _, _], [_, _, _, on_top_of(OtoN), _, _, _, _, _]) :- member([X, Y], OtoN), not_member([X, Y], OtoI), member(Y, Close), member(X, Held).
suggest(walk(X), [_, _, _, _, _, on(OnI), _, _, _], [_, _, _, _, _, on(OnF), _, _, _]) :- not_member(X,OnI), member(X, OnF).
suggest(switchon(X), _, [_, _, _, _, _, on(On), _, _, _]) :- member(X, On).

suggest(walk(Y), [_, holds(Held), _, _, _, _, _, _, _], [_, _, _, on_top_of(Oto), _, _, _, _, _]) :- member([X,Y], Oto), member(X, Held).
suggest(put(X, Y), _, [_, _, _, on_top_of(Oto), _, _, _, _, _]) :- member([X,Y], Oto).
suggest(put(X, Y), [close(CloseI), holds(Held), _, on_top_of(Oto), _, _, _, _, _], [close(CloseF), _, sat_on(Sat), _, _, _, _, _, _]) :-
    type(Y, floor), member(X, Sat), member(X, Held), member(Z, CloseI), member(Z, CloseF), ontopof_inherited(Y, Z, Oto).
suggest(walk(X), [_, holds(Held), _, on_top_of(OtoI), _, _, _, _, _], [_, _, _, on_top_of(OtoF), _, _, _, _, _]) :- member([X, Y], OtoF), not_member([X, Y], OtoI), Held \= [_, _].
suggest(grab(X), _, [_, holds(Held), _, _, _, _, _, _, _]) :- member(X, Held).
suggest(lie(X), _, [_, _, _, _, _, _, laid_on(Lie), _, _]) :- member(X, Lie).
suggest(walk(X), _, [close(Close), holds(Held), _, _, _, _, _, _, _]) :- member(X, Held), not_member(X, Close).
suggest(walk(X), _, [close(Close), _, _, _, _, _, laid_on(Laid), _, _]) :- member(X, Laid), not_member(X, Close).
suggest(walk(X), _, [close(Close), _, sat_on(Sat), _, _, _, _, _, _]) :- member(X, Sat), not_member(X, Close).
suggest(grab(X), [close(CloseI), _, _, _, _, _, _, _, _], [close(CloseF), _, sat_on(Sat), _, _, _, _, _, _]) :-
    not_member(Y, CloseI), member(Y, CloseF), member(X, Sat), -list_empty(CloseF).
suggest(walk(X), [_, holds(Held), _, _, _, _, _, _, _], [close(Close), _, sat_on(Sat), _, _, _, _, _, _]) :- member(X, Close), sittable(Y), X\=Y, member(Y, Sat), member(Y, Held).

suggest(sit(X), _, [_, _, sat_on(Sat), _, _, _, _, _, _]) :- member(X, Sat).
suggest(walk(Room), State1, State2) :- item_of_interest(State1, State2, Item), state_inside(State1, Item, Room).
suggest(walk(X), _, [close(Close), _, _, _, _, _, _, _, _]) :- member(X, Close).
suggest(walk(X), [_, _, _, _, _, _, _, used(UseI), _], [_, _, _, _, _, _, _, used(UseF), _]) :- member(X, UseF), not_member(X, UseI).
suggest(use(X), _, [_, _, _, _, _, _, _, used(Use), _]) :- member(X, Use).
suggest(walk(X), [_, _, _, _, _, _, _, _, eaten(EatenI)], [_, _, _, _, _, _, _, _, eaten(EatenF)]) :- member(X, EatenF), not_member(X, EatenI).
suggest(eat(X), _, [_, _, _, _, _, _, _, _, eaten(Eaten)]) :- member(X, Eaten).
suggest(standup, [_, _, sat_on([_]), _, _, _, _, _, _], _).
suggest(standup, [_, _, _, _, _, _, laid_on([_]), _, _], _).

% Test Queries
state_inside([_, _, _, _, inside(Inside), _, _, _, _], Item, Room) :- member([Item, Room], Inside).

% Test Queries
item_of_interest([_, holds(HeldI), _, _, _, _, _, _, _],
                [_, holds(HeldF), _, _, _, _, _, _, _],
                Item) :- member(Item, HeldF), not_member(Item, HeldI).
item_of_interest([_, _, sat_on(SatI), _, _, _, _, _, _],
                [_, _, sat_on(SatF), _, _, _, _, _, _],
                Item) :- member(Item, SatF), not_member(Item, SatI).
item_of_interest([_, _, _, on_top_of(OtoI), _, _, _, _, _],
                [_, _, _, on_top_of(OtoF), _, _, _, _, _],
                Item) :- member([Item, _], OtoF), not_member([Item, _], OtoI).
item_of_interest([_, holds(HeldI), _, on_top_of(OtoI), _, _, _, _, _],
                [_, _, _, on_top_of(OtoF), _, _, _, _, _],
                Item) :- member([HeldItem, Item], OtoF), not_member(HeldItem, HeldI), not_member([HeldItem, Item], OtoI).
item_of_interest([_, _, _, _, _, on(OnI), _, _, _],
                [_, _, _, _, _, on(OnF), _, _, _],
                Item) :- member(Item, OnF), not_member(Item, OnI).
item_of_interest([_, _, _, _, _, _, laid_on(LaidI), _, _],
                [_, _, _, _, _, _, laid_on(LaidF), _, _],
                Item) :- member(Item, LaidF), not_member(Item, LaidI).
item_of_interest([_, _, _, _, _, _, _, used(UsedI), _],
                [_, _, _, _, _, _, _, used(UsedF), _],
                Item) :- member(Item, UsedF), not_member(Item, UsedI).
item_of_interest([_, _, _, _, _, _, _, _, eaten(EatenI)],
                [_, _, _, _, _, _, _, _, eaten(EatenF)],
                Item) :- member(Item, EatenF), not_member(Item, EatenI).
item_of_interest([close(CloseI), _, _, _, _, _, _, _, _],
                [close(CloseF), _, _, _, _, _, _, _, _],
                Item) :- member(Item, CloseF), not_member(Item, CloseI).

% Check if an action is legal given the state
% Example test query:
legal_action(walk(X), [_, _, sat_on([]), _, inside(Inside), _, _, _, _]) :- rooms(X), not_member([character1, X], Inside).
legal_action(walk(X), [close(Close), _, sat_on([]), _, inside(Inside), _, _, _, _]) :- type(X, Y), -rooms(X), Y \= character,
    member([X, Room], Inside), member([character1, Room], Inside), not_member(X, Close).
legal_action(grab(X), [close(Close), holds([]), _, _, inside(Inside), _, _, _, _]) :- type(X, Y), Y \= character,
    member(X, Close).
legal_action(grab(X), [close(Close), holds([HeldItem]), _, _, inside(Inside), _, _, _, _]) :- type(X, Y), Y \= character,
    member(X, Close), X \= HeldItem.
legal_action(sit(X), [close(Close), holds(Held), sat_on([]), _, inside(Inside), _, _, _, _]) :- sittable(X),
    member(X, Close), not_member(X, Held).
legal_action(lie(X), [close(Close), holds(Held), _, _, inside(Inside), _, laid_on([]), _, _]) :- lieable(X),
    member(X, Close), not_member(X, Held).
legal_action(standup, [_, _, sat_on([_]), _, _, _, _, _, _]).
legal_action(standup, [_, _, _, _, _, _, laid_on([_]), _, _]).
legal_action(put(X,Y), [close(Close), holds(Held), _, on_top_of(Oto), inside(Inside), _, _, _, _]) :-
    member(Y, Close), member(X, Held), not_member([X,Y], Oto).
legal_action(put(X,Y), [close(Close), holds(Held), _, on_top_of(Oto), inside(Inside), _, _, _, _]) :-
    type(Y, floor), ontopof_inherited(Y, Z, Oto), member(Z, Close),
    member(X, Held), not_member([X,Y], Oto).
legal_action(switchon(X), [close(Close), _, _, _, inside(Inside), on(On), _, _, _]) :-
    member(X, Close), not_member(X, On), has_switch(X).
% We assume that something can only be used once for simplicity
legal_action(use(X), [close(Close), _, _, _, _, _, _, used(Used), _]) :-
    member(X, Close), not_member(X, Used).
legal_action(eat(X), [close(Close), _, _, _, _, _, _, _, eaten(Eaten)]) :-
    member(X, Close), not_member(X, Eaten), not grabbable(X), eatable(X).
legal_action(eat(X), [_, holds(Held), _, _, _, _, _, _, eaten(Eaten)]) :-
    member(X, Held), not_member(X, Eaten), eatable(X).
legal_action(eat(X), [close(Close), _, _, on_top_of(Oto), _, on(On), _, _, eaten(Eaten)]) :-
    member(X, Close), not_member(X, Eaten), can_cook(Heat), ontopof_inherited(Heat, X, Oto), member(Heat, On).

% Update state
% If we walk to something, anything we are not holding is no longer close
update(walk(X), [close(Close), holds(Held), sat_on(Sat), on_top_of(Oto), inside(In), on(On), laid_on(Laid), used(Used), eaten(Eaten)],
                [close(Closen), holds(Held), sat_on(Sat), on_top_of(Oto), inside(Inf), on(On), laid_on(Laid), used(Used), eaten(Eaten)]) :-
    update_walking(X, [Close, Held, Oto], [], Closen),
    update_room(X, In, [], Inf).
update(grab(X), [close(Close), holds(Held), sat_on(Sat), on_top_of(Oto), inside(In), on(On), laid_on(Laid), used(Used), eaten(Eaten)],
                [close(Close), holds([X | Held]), sat_on(Sat), on_top_of(OtoN), inside(In), on(On), laid_on(Laid), used(Used), eaten(Eaten)]) :-
    update_grabbing(X, Oto, [], OtoN).
update(sit(X), [close(Close), holds(Held), sat_on(Sat), on_top_of(Oto), inside(In), on(On), laid_on(Laid), used(Used), eaten(Eaten)],
               [close(Close), holds(Held), sat_on([X | Sat]), on_top_of(Oto), inside(In), on(On), laid_on(Laid), used(Used), eaten(Eaten)]).
update(lie(X), [close(Close), holds(Held), sat_on(Sat), on_top_of(Oto), inside(In), on(On), laid_on(Laid), used(Used), eaten(Eaten)],
               [close(Close), holds(Held), sat_on(Sat), on_top_of(Oto), inside(In), on(On), laid_on([X | Laid]), used(Used), eaten(Eaten)]).
update(standup, [close(Close), holds(Held), sat_on([X]), on_top_of(Oto), inside(In), on(On), laid_on(Laid), used(Used), eaten(Eaten)],
                [close(Close), holds(Held), sat_on([]), on_top_of(Oto), inside(In), on(On), laid_on(Laid), used(Used), eaten(Eaten)]).
update(standup, [close(Close), holds(Held), sat_on(Sat), on_top_of(Oto), inside(In), on(On), laid_on([X]), used(Used), eaten(Eaten)],
                [close(Close), holds(Held), sat_on(Sat), on_top_of(Oto), inside(In), on(On), laid_on([]), used(Used), eaten(Eaten)]).
update(put(X,Y), [close(Close), holds(Held), sat_on(Sat), on_top_of(Oto), inside(In), on(On), laid_on(Laid), used(Used), eaten(Eaten)],
                 [close(Close), holds(Heldn), sat_on(Sat), on_top_of([[X,Y] | Oto]), inside(In), on(On), laid_on(Laid), used(Used), eaten(Eaten)]) :-
    remove(X, Held, Heldn).
update(switchon(X), [close(Close), holds(Held), sat_on(Sat), on_top_of(Oto), inside(In), on(On), laid_on(Laid), used(Used), eaten(Eaten)],
                    [close(Close), holds(Held), sat_on(Sat), on_top_of(Oto), inside(In), on([X | On]), laid_on(Laid), used(Used), eaten(Eaten)]).
update(use(X), [close(Close), holds(Held), sat_on(Sat), on_top_of(Oto), inside(In), on(On), laid_on(Laid), used(Used), eaten(Eaten)],
               [close(Close), holds(Held), sat_on(Sat), on_top_of(Oto), inside(In), on(On), laid_on(Laid), used([X | Used]), eaten(Eaten)]).
update(eat(X), [close(Close), holds(Held), sat_on(Sat), on_top_of(Oto), inside(In), on(On), laid_on(Laid), used(Used), eaten(Eaten)],
               [close(Close), holds(Held), sat_on(Sat), on_top_of(Oto), inside(In), on(On), laid_on(Laid), used(Used), eaten([X | Eaten])]).
%update(eat(X), [close(Close), holds(Held), sat_on(Sat), on_top_of(Oto), inside(In), on(On), laid_on(Laid), used(Used), eaten(Eaten)],
%               [close(CloseN), holds(HeldN), sat_on(Sat), on_top_of(OtoN), inside(InN), on(On), laid_on(Laid), used(Used), eaten([X | Eaten])]) :-
%    remove(X, Close, CloseN), remove(X, Held, HeldN), remove([X,_], Oto, OtoN), remove([X, _], In, InN).


% Example test queries:
update_walking(X, [[], _, _], State1, [X | State1]).
update_walking(X, [[Y | T], Held, Oto], State, State1) :- X \= Y, not_member(Y, Held), not_member([X, Y], Oto), not_member([Y, X], Oto),
                                                                update_walking(X, [T, Held, Oto], State, State1).
update_walking(X, [[Y | T], Held, Oto], State, State1) :- update_walking(X, [T, Held, Oto], [Y | State], State1).

% Example test queries:
% update_room(plum445, [], [], In).
% update_room(bedroom74, [[character1, kitchen207], [plum445, kitchen207]], [], In).
update_room(X, In, [], In) :- -rooms(X).
update_room(X, [], In1, [[character1, X] | In1]).
update_room(X, [[character1, Room] | T], State, State1) :- X \= Room, update_room(X, T, State, State1).
update_room(X, [[Item, Whatever] | T], State, State1) :- update_room(X, T, [[Item, Whatever] | State], State1).

update_grabbing(X, [], On, On).
update_grabbing(X, [[Y, Surface] | T], On, OnN) :- X \= Y, update_grabbing(X, T, [[Y, Surface] | On], OnN).
update_grabbing(X, [[X, Surface] | T], On, OnN) :- update_grabbing(X, T, On, OnN).

% Tasks
complete_task(grab_remote, P) :- type(Remote, remotecontrol),
    transform([close([]), holds([Remote]), sat_on([]), on_top_of([]), inside([]), on([]), laid_on([]), used([]), eaten([])], P).
complete_task(grab_remote_and_clothes, P) :- type(Remote, remotecontrol), type(Clothes, clothesshirt),
    transform([close([]), holds([Remote, Clothes]), sat_on([]), on_top_of([]), inside([]), on([]), laid_on([]), used([]), eaten([])], P).
complete_task(use_phone_on_couch, P) :- type(Cell, cellphone), type(Sofa, sofa),
    transform([close([]), holds([Cell]), sat_on([Sofa]), on_top_of([]), inside([]), on([]), laid_on([]), used([]), eaten([])], P).
complete_task(set_remote_on_coffee_table, P) :- type(Remote, remotecontrol), type(Ct, coffeetable),
    transform([close([]), holds([]), sat_on([]), on_top_of([[Remote, Ct]]), inside([]), on([]), laid_on([]), used([]), eaten([])], P).
complete_task(turn_on_tv, P) :- type(Tv, tv),
    transform([close([]), holds([]), sat_on([]), on_top_of([]), inside([]), on([Tv]), laid_on([]), used([]), eaten([])], P).

% Actual VirtualHome Tasks
complete_task(go_to_sleep, P) :- type(Bed, bed),
    transform([close([]), holds([]), sat_on([]), on_top_of([]), inside([]), on([]), laid_on([Bed]), used([]), eaten([])], P).
complete_task(browse_internet, P) :-
    type(Computer, computer), type(Chair, chair), type(Cpuscreen, cpuscreen), inside_same_room(Computer, Chair),
    transform([close([Cpuscreen]), holds([]), sat_on([Chair]), on_top_of([]), inside([]), on([Computer]), laid_on([]), used([]), eaten([])], P).
complete_task(wash_teeth, P) :-
    type(Toothbrush, toothbrush), type(Toothpaste, toothpaste), type(Faucet, faucet),
    transform([close([Faucet]), holds([Toothbrush, Toothpaste]), sat_on([]), on_top_of([]), inside([]), on([Faucet]), laid_on([]), used([Toothpaste, Toothbrush]), eaten([])], P).
complete_task(brush_teeth, P) :-
    type(Toothbrush, toothbrush), type(Toothpaste, toothpaste), type(Faucet, faucet),
    transform([close([Faucet]), holds([Toothbrush, Toothpaste]), sat_on([]), on_top_of([]), inside([]), on([Faucet]), laid_on([]), used([Toothpaste, Toothbrush]), eaten([])], P).
% Note: good candidate for event calculus, because then we can vacuum multiple spots and remember where we've been
complete_task(vacuum, P) :-
    type(Vacuum, vacuum),
    transform([close([]), holds([Vacuum]), sat_on([]), on_top_of([]), inside([]), on([Vacuum]), laid_on([]), used([Vacuum]), eaten([])], P).
% Note: Non-terminating due to the size of the program, however it gets the right results piecemeal
complete_task(change_sheets_and_pillow_cases, P) :-
%    type(Bed, bed), type(Pillow1, pillow), type(Pillow2, pillow), Pillow1 \= Pillow2, inside_same_room(Pillow1, Bed),
%    inside_same_room(Pillow2, Bed), type(Pillowcase1, pillowcase), type(Pillowcase2, pillowcase), Pillowcase1 \= Pillowcase2,
%    inside_same_room(Pillowcase1, Pillow1), inside_same_room(Pillowcase2, Pillow2), type(Sheets, sheets), inside_same_room(Sheets, Bed),
%    type(ReplacementPillowcase1, pillowcase), type(ReplacementPillowcase2, pillowcase), type(ReplacementSheets, sheets),
%    ReplacementPillowcase1 \= Pillowcase1, ReplacementPillowcase1 \= Pillowcase2, ReplacementPillowcase2 \= Pillowcase1,
%    ReplacementPillowcase2 \= Pillowcase2, ReplacementSheets \= Sheets, type(Clothespile, clothespile),
%    transform([close([]), holds([]), sat_on([]),
%        on_top_of([[Pillowcase1, Clothespile], [Pillowcase2, Clothespile], [Sheets, Clothespile],
%        [ReplacementPillowcase1, Pillow1], [ReplacementPillowcase2, Pillow2], [ReplacementSheets, Bed]]),
%        inside([]), on([]), laid_on([]), used([]), eaten([])], P).
    transform([close([]), holds([]), sat_on([]),
        on_top_of([[pillowcase011, clothespile150], [pillowcase012, clothespile150], [sheets01, clothespile150],
        [pillowcase021, pillow188], [pillowcase022, pillow189], [sheets02, bed111]]),
        inside([]), on([]), laid_on([]), used([]), eaten([])], P).
complete_task(wash_dirty_dishes, P) :-
    type(Sink, sink), inside(Inside), member([Sink, Kitchen], Inside),
    dirty_in_sink(Sink, Dishes), type(Faucet, faucet), member([Faucet, Kitchen], Inside),
    transform([close([]), holds([]), sat_on([]), on_top_of(Dishes),
        inside([]), on([Faucet]), laid_on([]), used([Sink]), eaten([])], P).
complete_task(feed_me, P) :-
    needs_cooking(Food), vegetable(Veggie), type(Pan, fryingpan), type(Stove, stove),
    transform([close([]), holds([]), sat_on([]), on_top_of([[Food, Pan], [Veggie, Pan], [Pan, Stove]]),
        inside([]), on([Stove]), laid_on([]), used([]), eaten([Food])], P).
%    transform([close([]), holds([]), sat_on([]), on_top_of([[salmon328, fryingpan270], [bellpepper321, fryingpan270],
%    [fryingpan270, stove312]]), inside([]), on([stove312]), laid_on([]), used([]), eaten([salmon328])], P).
complete_task(breakfast, P) :-
%    breakfast(Food), easy_cooking(Heatsource, Food),
%    transform([close([]), holds([]), sat_on([]), on_top_of([[Food, Heatsource]]),
%        inside([]), on([Heatsource]), laid_on([]), used([]), eaten([Food])], P).
    transform([close([]), holds([]), sat_on([]), on_top_of([[breadslice310, toaster309]]),
        inside([]), on([toaster309]), laid_on([]), used([]), eaten([breadslice310])], P).
complete_task(read, P) :-
    readable(Reading), sittable(Comfy), type(Comfy, sofa), type(Light, lightswitch),
    transform([close([]), holds([Reading]), sat_on([Comfy]), on_top_of([]),
        inside([]), on([Light]), laid_on([]), used([Reading]), eaten([])], P).

% Get Relevant
get_relevant(grab_remote, [Remote]) :- type(Remote, remotecontrol).
get_relevant(grab_remote_and_clothes, [Remote, Clothes]) :- type(Remote, remotecontrol), type(Clothes, clothesshirt).
get_relevant(use_phone_on_couch, [Cell, Sofa]) :- type(Cell, cellphone), type(Sofa, sofa).
get_relevant(set_remote_on_coffee_table, [Remote, Ct]) :- type(Remote, remotecontrol), type(Ct, coffeetable).
get_relevant(turn_on_tv, [Tv]) :- type(Tv, tv).

get_relevant(go_to_sleep, [Bed]) :- type(Bed, bed).
get_relevant(browse_internet, [Computer, Chair, Cpuscreen, Floor]) :-
    type(Computer, computer), type(Chair, chair), type(Cpuscreen, cpuscreen), inside_same_room(Computer, Chair),
    ontopof(Oto), ontopof_inherited(Floor, Cpuscreen, Oto), type(Floor, floor).
get_relevant(wash_teeth, [Toothbrush, Toothpaste, Faucet]) :-
    type(Toothbrush, toothbrush), type(Toothpaste, toothpaste), type(Faucet, faucet).
get_relevant(brush_teeth, [Toothbrush, Toothpaste, Faucet]) :-
    type(Toothbrush, toothbrush), type(Toothpaste, toothpaste), type(Faucet, faucet).
get_relevant(vacuum, [Vacuum]) :-
    type(Vacuum, vacuum).
get_relevant(change_sheets_and_pillow_cases, [Bed, Pillow1, Pillow2, Pilloecase1, Pillowcase2, Sheets,
                                            ReplacementPillowcase1, ReplacementPillowcase2, ReplacementSheets, Clothespile]) :-
    type(Bed, bed), type(Pillow1, pillow), type(Pillow2, pillow), Pillow1 \= Pillow2, inside_same_room(Pillow1, Bed),
    inside_same_room(Pillow2, Bed), type(Pillowcase1, pillowcase), type(Pillowcase2, pillowcase), Pillowcase1 \= Pillowcase2,
    inside_same_room(Pillowcase1, Pillow1), inside_same_room(Pillowcase2, Pillow2), type(Sheets, sheets), inside_same_room(Sheets, Bed),
    type(ReplacementPillowcase1, pillowcase), type(ReplacementPillowcase2, pillowcase), type(ReplacementSheets, sheets),
    ReplacementPillowcase1 \= Pillowcase1, ReplacementPillowcase1 \= Pillowcase2, ReplacementPillowcase2 \= Pillowcase1,
    ReplacementPillowcase2 \= Pillowcase2, ReplacementSheets \= Sheets, type(Clothespile, clothespile).
get_relevant(wash_dirty_dishes, List) :-
    type(Sink, sink), type(Kitchen, kitchen), inside(Inside), member([Sink, Kitchen], Inside),
    dirty_in_sink(Sink, Dishes), type(Faucet, faucet), member([Faucet, Kitchen], Inside), append([Sink, Faucet], Dishes, List).
get_relevant(feed_me, [Food, Veggie, Pan, Stove]) :-
    needs_cooking(Food), vegetable(Veggie), type(Pan, fryingpan), type(Stove, stove).
get_relevant(breakfast, [Food, Heatsource]) :-
    breakfast(Food), easy_cooking(Heatsource, Food).
get_relevant(read, [Reading, Comfy, Light]) :-
    readable(Reading), sittable(Comfy), type(Comfy, sofa), type(Light, lightswitch).

% Unseen Data
%% Watch TV
%get_relevant(generic, [Tv, Comfy]) :-
%    sittable(Comfy), type(Comfy, sofa), type(Tv, tv).
%complete_task(generic, P) :-
%    sittable(Comfy), type(Comfy, sofa), type(Tv, tv),
%    transform([close([]), holds([]), sat_on([Comfy]), on_top_of([]),
%        inside([]), on([Tv]), laid_on([]), used([]), eaten([])], P).
%% Read Book
%get_relevant(generic, [Book, Comfy, Light]) :-
%    type(Book, book), readable(Book), sittable(Comfy), type(Comfy, sofa), type(Light, lightswitch).
%complete_task(generic, P) :-
%    type(Book, book), readable(Book), sittable(Comfy), type(Comfy, sofa), type(Light, lightswitch),
%    transform([close([]), holds([Book]), sat_on([Comfy]), on_top_of([]),
%        inside([]), on([Light]), laid_on([]), used([Book]), eaten([])], P).
%% Relax on Sofa
%get_relevant(generic, [Comfy]) :-
%    type(Comfy, sofa).
%complete_task(generic, P) :-
%    type(Comfy, sofa),
%    transform([close([]), holds([]), sat_on([Comfy]), on_top_of([]),
%        inside([]), on([]), laid_on([]), used([]), eaten([])], P).
%% Listen to Music
%get_relevant(generic, [Radio]) :-
%    type(Radio, radio).
%complete_task(generic, P) :-
%    type(Radio, radio),
%    transform([close([]), holds([]), sat_on([]), on_top_of([]),
%        inside([]), on([Radio]), laid_on([]), used([]), eaten([])], P).
%% Tabletop Game
%get_relevant(generic, [Table, Game]) :-
%    type(Table, kitchentable), type(Game, tabletopgame).
%complete_task(generic, P) :-
%    type(Table, kitchentable), type(Game, tabletopgame),
%    transform([close([]), holds([]), sat_on([]), on_top_of([[Game, Table]]),
%        inside([]), on([]), laid_on([]), used([Game]), eaten([])], P).
%% Pee
%get_relevant(generic, [Toilet]) :-
%    type(Toilet, toilet).
%complete_task(generic, P) :-
%    type(Toilet, toilet),
%    transform([close([]), holds([]), sat_on([]), on_top_of([]),
%        inside([]), on([]), laid_on([]), used([Toilet]), eaten([])], P).
%% Have snack
%get_relevant(generic, [Change, Dresser]) :-
%    type(Change, change), type(Dresser, dresser).
%complete_task(generic, P) :-
%    type(Change, change), type(Dresser, dresser),
%    transform([close([]), holds([Change]), sat_on([]), on_top_of([]),
%        inside([]), on([]), laid_on([]), used([]), eaten([])], P).
%% Put shoes and coat FAILURE
%get_relevant(generic, [Shoe1, Shoe2, Coat]) :-
%    type(Shoe1, shoe), type(Shoe2, shoe), Shoe1 \= Shoe2, type(Coat, coat).
%complete_task(generic, P) :-
%    type(Shoe1, shoe), type(Shoe2, shoe), Shoe1 \= Shoe2, type(Coat, coat),
%    transform([close([]), holds([]), sat_on([]), on_top_of([[Shoe1, character1], [Shoe2, character1], [Coat, character1]]),
%        inside([]), on([]), laid_on([]), used([]), eaten([])], P).
%% Hair
%get_relevant(generic, [HairProduct, Comb]) :-
%    type(HairProduct, hairproduct), type(Comb, comb).
%complete_task(generic, P) :-
%    type(HairProduct, hairproduct), type(Comb, comb),
%    transform([close([]), holds([Comb, HairProduct]), sat_on([]), on_top_of([]),
%        inside([]), on([]), laid_on([]), used([Comb, HairProduct]), eaten([])], P).
%% Put out flowers
%get_relevant(generic, [Flowers, Vase, Table]) :-
%    type(Flowers, flowers), type(Vase, vase), type(Table, kitchentable).
%complete_task(generic, P) :-
%    type(Flowers, flowers), type(Vase, vase), type(Table, kitchentable),
%    transform([close([]), holds([]), sat_on([]), on_top_of([[Vase, Table], [Flowers, Vase]]),
%        inside([]), on([]), laid_on([]), used([]), eaten([])], P).
%% Put down bags
%get_relevant(generic, [Bag1, Bag2, Table]) :-
%    type(Bag1, bag), type(Bag2, bag), Bag1 \= Bag2, type(Table, kitchentable).
%complete_task(generic, P) :-
%    type(Bag1, bag), type(Bag2, bag), Bag1 \= Bag2, type(Table, kitchentable),
%    transform([close([]), holds([]), sat_on([]), on_top_of([[Bag1, Table], [Bag2, Table]]),
%        inside([]), on([]), laid_on([]), used([]), eaten([])], P).
%% Try yourself off
%get_relevant(generic, [Towel]) :-
%    type(Towel, towel).
%complete_task(generic, P) :-
%    type(Towel, towel),
%    transform([close([]), holds([Towel]), sat_on([]), on_top_of([]),
%        inside([]), on([]), laid_on([]), used([Towel]), eaten([])], P).
%% Curled hair
%get_relevant(generic, [HairProduct, CurlingIron]) :-
%    type(HairProduct, hairproduct), type(CurlingIron, curlingiron).
%complete_task(generic, P) :-
%    type(HairProduct, hairproduct), type(CurlingIron, curlingiron),
%    transform([close([]), holds([CurlingIron, HairProduct]), sat_on([]), on_top_of([]),
%        inside([]), on([CurlingIron]), laid_on([]), used([CurlingIron, HairProduct]), eaten([])], P).
%% Place centerpiece
%get_relevant(generic, [Centerpiece, Table]) :-
%    type(Centerpiece, centerpiece), type(Table, kitchentable).
%complete_task(generic, P) :-
%    type(Centerpiece, centerpiece), type(Table, kitchentable),
%    transform([close([]), holds([]), sat_on([]), on_top_of([[Centerpiece, Table]]),
%        inside([]), on([]), laid_on([]), used([]), eaten([])], P).
%% Facial
%get_relevant(generic, [Facecream]) :-
%    type(Facecream, facecream).
%complete_task(generic, P) :-
%    type(Facecream, facecream),
%    transform([close([]), holds([Facecream]), sat_on([]), on_top_of([]),
%        inside([]), on([]), laid_on([]), used([Facecream]), eaten([])], P).
%% Practice Violin
%get_relevant(generic, [Violin]) :-
%    type(Violin, violin).
%complete_task(generic, P) :-
%    type(Violin, violin),
%    transform([close([]), holds([Violin]), sat_on([]), on_top_of([]),
%        inside([]), on([]), laid_on([]), used([Violin]), eaten([])], P).
%% Wipe room with lysol
%get_relevant(generic, [Lysol, Towel, Counter]) :-
%    type(Lysol, lysol), type(Towel, towel), type(Counter, bathroomcounter).
%complete_task(generic, P) :-
%    type(Lysol, lysol), type(Towel, towel), type(Counter, bathroomcounter),
%    transform([close([Counter]), holds([Lysol, Towel]), sat_on([]), on_top_of([]),
%        inside([]), on([]), laid_on([]), used([Lysol, Towel]), eaten([])], P).
%% Replace toothpaste
%get_relevant(generic, [Oldtoothpaste, Newtoothpaste, Trash, Counter]) :-
%    type(Oldtoothpaste, toothpaste), type(Newtoothpaste, toothpaste), new(Newtoothpaste), Oldtoothpaste \= Newtoothpaste,
%    type(Trash, garbagecan), type(Counter, bathroomcounter).
%complete_task(generic, P) :-
%    type(Oldtoothpaste, toothpaste), type(Newtoothpaste, toothpaste), new(Newtoothpaste), Oldtoothpaste \= Newtoothpaste,
%    type(Trash, garbagecan), type(Counter, bathroomcounter),
%    transform([close([]), holds([]), sat_on([]), on_top_of([[Oldtoothpaste, Trash], [Newtoothpaste, Counter]]),
%        inside([]), on([]), laid_on([]), used([]), eaten([])], P).
%% Hang up jacket
%get_relevant(generic, [Coat, Hanger]) :-
%    type(Coat, coat), type(Hanger, hanger).
%complete_task(generic, P) :-
%    type(Coat, coat), type(Hanger, hanger),
%    transform([close([]), holds([]), sat_on([]), on_top_of([[Coat, Hanger]]),
%        inside([]), on([]), laid_on([]), used([]), eaten([])], P).
%% Shampoo hair
%get_relevant(generic, [Shampoo, Tub]) :-
%    type(Shampoo, shampoo), type(Tub, bathtub).
%complete_task(generic, P) :-
%    type(Shampoo, shampoo), type(Tub, bathtub),
%    transform([close([]), holds([Shampoo]), sat_on([Tub]), on_top_of([]),
%        inside([]), on([]), laid_on([]), used([Shampoo]), eaten([])], P).
%% Read them bedtime story
%get_relevant(generic, [Book, Bed]) :-
%    readable(Book), type(Bed, bed).
%complete_task(generic, P) :-
%    readable(Book), type(Bed, bed),
%    transform([close([]), holds([Book]), sat_on([Bed]), on_top_of([]),
%        inside([]), on([]), laid_on([]), used([Book]), eaten([])], P).




?- complete_task(wash_dirty_dishes, P).